[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608-VAA",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Applications. In this website,you will find my coursework prepared for this course."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html",
    "title": "Hands-on Exercise 15: Visual Multivariate Analysis with Parallel Coordinates Plot",
    "section": "",
    "text": "Parallel coordinates plots (PCP) are designed for high-dimensional numeric data.\nThey are powerful for interactive exploration (detecting clusters and patterns) but can be cluttered with many observations.\nIn this hands-on, we will:\n\ncreate static PCP using GGally::ggparcoord(),\ncreate interactive PCP using parallelPlot,\nimprove readability with scaling, grouping, facets and rotated axis labels."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#overview",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#overview",
    "title": "Hands-on Exercise 15: Visual Multivariate Analysis with Parallel Coordinates Plot",
    "section": "",
    "text": "Parallel coordinates plots (PCP) are designed for high-dimensional numeric data.\nThey are powerful for interactive exploration (detecting clusters and patterns) but can be cluttered with many observations.\nIn this hands-on, we will:\n\ncreate static PCP using GGally::ggparcoord(),\ncreate interactive PCP using parallelPlot,\nimprove readability with scaling, grouping, facets and rotated axis labels."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#installing-and-launching-r-packages",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#installing-and-launching-r-packages",
    "title": "Hands-on Exercise 15: Visual Multivariate Analysis with Parallel Coordinates Plot",
    "section": "2 15.2 Installing and launching R packages",
    "text": "2 15.2 Installing and launching R packages\n\npacman::p_load(GGally, parallelPlot, tidyverse)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#data-preparation",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#data-preparation",
    "title": "Hands-on Exercise 15: Visual Multivariate Analysis with Parallel Coordinates Plot",
    "section": "3 15.3 Data preparation",
    "text": "3 15.3 Data preparation\n\nwh &lt;- read_csv(\"../data/WHData-2018.csv\")\nglimpse(wh)\n\nRows: 156\nColumns: 12\n$ Country                        &lt;chr&gt; \"Albania\", \"Bosnia and Herzegovina\", \"B…\n$ Region                         &lt;chr&gt; \"Central and Eastern Europe\", \"Central …\n$ `Happiness score`              &lt;dbl&gt; 4.586, 5.129, 4.933, 5.321, 6.711, 5.73…\n$ `Whisker-high`                 &lt;dbl&gt; 4.695, 5.224, 5.022, 5.398, 6.783, 5.81…\n$ `Whisker-low`                  &lt;dbl&gt; 4.477, 5.035, 4.844, 5.244, 6.639, 5.66…\n$ Dystopia                       &lt;dbl&gt; 1.462, 1.883, 1.219, 1.769, 2.494, 1.45…\n$ `GDP per capita`               &lt;dbl&gt; 0.916, 0.915, 1.054, 1.115, 1.233, 1.20…\n$ `Social support`               &lt;dbl&gt; 0.817, 1.078, 1.515, 1.161, 1.489, 1.53…\n$ `Healthy life expectancy`      &lt;dbl&gt; 0.790, 0.758, 0.712, 0.737, 0.854, 0.73…\n$ `Freedom to make life choices` &lt;dbl&gt; 0.419, 0.280, 0.359, 0.380, 0.543, 0.55…\n$ Generosity                     &lt;dbl&gt; 0.149, 0.216, 0.064, 0.120, 0.064, 0.08…\n$ `Perceptions of corruption`    &lt;dbl&gt; 0.032, 0.000, 0.009, 0.039, 0.034, 0.17…"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#plotting-static-parallel-coordinates-plot-ggally",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#plotting-static-parallel-coordinates-plot-ggally",
    "title": "Hands-on Exercise 15: Visual Multivariate Analysis with Parallel Coordinates Plot",
    "section": "4 15.4 Plotting static parallel coordinates plot (GGally)",
    "text": "4 15.4 Plotting static parallel coordinates plot (GGally)\n\n4.1 15.4.1 Simple parallel coordinates plot\n\nggparcoord(\n  data = wh,\n  columns = c(7:12)\n)\n\n\n\n\n\n\n\n\n\n\n4.2 15.4.2 With grouping + scaling + transparency + boxplot\n\nggparcoord(\n  data = wh,\n  columns = c(7:12),\n  groupColumn = 2,          # e.g., Region (adjust if your file differs)\n  scale = \"uniminmax\",\n  alphaLines = 0.2,\n  boxplot = TRUE,\n  title = \"Parallel Coordinates Plot of World Happiness Variables\"\n)\n\n\n\n\n\n\n\n\n\n\n4.3 15.4.3 Facet by Region\n\nggparcoord(\n  data = wh,\n  columns = c(7:12),\n  groupColumn = 2,\n  scale = \"uniminmax\",\n  alphaLines = 0.2,\n  boxplot = TRUE,\n  title = \"Multiple Parallel Coordinates Plots of World Happiness Variables by Region\"\n) +\n  facet_wrap(~ Region)\n\n\n\n\n\n\n\n\n\n\n4.4 15.4.4 Rotate x-axis text labels\n\nggparcoord(\n  data = wh,\n  columns = c(7:12),\n  groupColumn = 2,\n  scale = \"uniminmax\",\n  alphaLines = 0.2,\n  boxplot = TRUE,\n  title = \"Multiple Parallel Coordinates Plots of World Happiness Variables by Region\"\n) +\n  facet_wrap(~ Region) +\n  theme(axis.text.x = element_text(angle = 30))\n\n\n\n\n\n\n\n\nAdjust hjust to avoid overlapping with the plot area:\n\nggparcoord(\n  data = wh,\n  columns = c(7:12),\n  groupColumn = 2,\n  scale = \"uniminmax\",\n  alphaLines = 0.2,\n  boxplot = TRUE,\n  title = \"Multiple Parallel Coordinates Plots of World Happiness Variables by Region\"\n) +\n  facet_wrap(~ Region) +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1))"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#interactive-parallel-coordinates-plot-parallelplot",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#interactive-parallel-coordinates-plot-parallelplot",
    "title": "Hands-on Exercise 15: Visual Multivariate Analysis with Parallel Coordinates Plot",
    "section": "5 15.5 Interactive parallel coordinates plot: parallelPlot",
    "text": "5 15.5 Interactive parallel coordinates plot: parallelPlot\n\n5.1 15.5.1 Basic interactive plot\nA typical workflow is to select the target + predictors, then call parallelPlot().\n\nwh_pp &lt;- wh %&gt;%\n  dplyr::select(`Happiness score`, c(7:12))\n\nparallelPlot(wh_pp, width = 320, height = 250)\n\n\n\n\n\n\n\n5.2 15.5.2 Rotate axis labels\n\nparallelPlot(wh_pp, rotateTitle = TRUE)\n\n\n\n\n\n\n\n5.3 15.5.3 Change colour scheme\n\nparallelPlot(\n  wh_pp,\n  continuousCS = \"YlOrRd\",\n  rotateTitle = TRUE\n)\n\n\n\n\n\n\n\n5.4 15.5.4 Add histogram on each axis\n\nhistoVisibility &lt;- rep(TRUE, ncol(wh_pp))\n\nparallelPlot(\n  wh_pp,\n  rotateTitle = TRUE,\n  histoVisibility = histoVisibility\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#notes-tips",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05d.html#notes-tips",
    "title": "Hands-on Exercise 15: Visual Multivariate Analysis with Parallel Coordinates Plot",
    "section": "6 Notes / Tips",
    "text": "6 Notes / Tips\n\nIf the plot is too cluttered, try filtering a subset (e.g., one region), or sampling rows.\nScaling (uniminmax) is usually required because each variable has different ranges."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html",
    "title": "Hands-on Exercise 13: Creating Ternary Plot with R",
    "section": "",
    "text": "Ternary plots are useful for three-part compositional data (e.g., Young / Active / Old population shares) where each observation is expressed as proportions that sum to 1 (or 100%).\nIn this hands-on, we will:\n\nload required packages,\nwrangle the Singapore residents dataset into three measures (Young, Active, Old),\ncreate a static ternary plot using ggtern,\ncreate an interactive ternary plot using plotly."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#overview",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#overview",
    "title": "Hands-on Exercise 13: Creating Ternary Plot with R",
    "section": "",
    "text": "Ternary plots are useful for three-part compositional data (e.g., Young / Active / Old population shares) where each observation is expressed as proportions that sum to 1 (or 100%).\nIn this hands-on, we will:\n\nload required packages,\nwrangle the Singapore residents dataset into three measures (Young, Active, Old),\ncreate a static ternary plot using ggtern,\ncreate an interactive ternary plot using plotly."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#installing-and-launching-r-packages",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#installing-and-launching-r-packages",
    "title": "Hands-on Exercise 13: Creating Ternary Plot with R",
    "section": "2 13.2 Installing and launching R packages",
    "text": "2 13.2 Installing and launching R packages\n\npacman::p_load(plotly, ggtern, tidyverse)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#data-preparation",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#data-preparation",
    "title": "Hands-on Exercise 13: Creating Ternary Plot with R",
    "section": "3 13.3 Data Preparation",
    "text": "3 13.3 Data Preparation\n\n3.1 13.3.1 Importing data\n\nThe dataset file is expected to be in data/ folder.\nIf your file path is different, update it accordingly.\n\n\npop_data &lt;- read_csv(\"../data/respopagsex2000to2018_tidy.csv\")\n\n\n\n3.2 13.3.2 Preparing the data\nWe reshape the age group column into multiple columns (wide format) and derive:\n\nYOUNG: sum of age groups (0–19),\nACTIVE: sum of age groups (20–64),\nOLD: sum of age groups (65+),\nTOTAL: overall total across all age groups.\n\nThen we keep Year = 2018 (you can switch to other years).\n\nagpop_mutated &lt;- pop_data %&gt;%\n  mutate(Year = as.character(Year)) %&gt;%\n  spread(AG, Population) %&gt;%\n  mutate(\n    YOUNG  = rowSums(.[4:8],  na.rm = TRUE),\n    ACTIVE = rowSums(.[9:16], na.rm = TRUE),\n    OLD    = rowSums(.[17:21], na.rm = TRUE),\n    TOTAL  = YOUNG + ACTIVE + OLD\n  ) %&gt;%\n  filter(Year == \"2018\") %&gt;%\n  filter(TOTAL &gt; 0)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#plotting-ternary-diagram-with-r",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#plotting-ternary-diagram-with-r",
    "title": "Hands-on Exercise 13: Creating Ternary Plot with R",
    "section": "4 13.4 Plotting Ternary Diagram with R",
    "text": "4 13.4 Plotting Ternary Diagram with R\n\n4.1 13.4.1 Plotting a static ternary diagram\nStart with a minimal ternary scatter plot.\n\nggtern(data = agpop_mutated, aes(x = YOUNG, y = ACTIVE, z = OLD)) +\n  geom_point()\n\n\n\n\n\n\n\n\nAdd title and a cleaner theme.\n\nggtern(data = agpop_mutated, aes(x = YOUNG, y = ACTIVE, z = OLD)) +\n  geom_point() +\n  labs(title = \"Population structure, 2018\") +\n  theme_rgbw()\n\n\n\n\n\n\n\n\n\n\n4.2 13.4.2 Plotting an interactive ternary diagram (plotly)\nWe define small helper functions for annotation and axis formatting, then build a scatterternary chart.\n\n# reusable function for creating annotation object\nlabel &lt;- function(txt) {\n  list(\n    text = txt,\n    x = 0.1, y = 1,\n    ax = 0, ay = 0,\n    xref = \"paper\", yref = \"paper\",\n    align = \"center\",\n    font = list(family = \"serif\", size = 15, color = \"white\"),\n    bgcolor = \"#b3b3b3\",\n    bordercolor = \"black\",\n    borderwidth = 2\n  )\n}\n\n# reusable function for axis formatting\naxis &lt;- function(txt) {\n  list(\n    title = txt,\n    tickformat = \".0%\",\n    tickfont = list(size = 10)\n  )\n}\n\nternaryAxes &lt;- list(\n  aaxis = axis(\"Young\"),\n  baxis = axis(\"Active\"),\n  caxis = axis(\"Old\")\n)\n\nplot_ly(\n  agpop_mutated,\n  a = ~YOUNG,\n  b = ~ACTIVE,\n  c = ~OLD,\n  type = \"scatterternary\",\n  mode = \"markers\"\n) %&gt;%\n  layout(\n    annotations = label(\"Ternary Markers\"),\n    ternary = ternaryAxes\n  )"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#notes-tips",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05b.html#notes-tips",
    "title": "Hands-on Exercise 13: Creating Ternary Plot with R",
    "section": "5 Notes / Tips",
    "text": "5 Notes / Tips\n\nIf your points look “squeezed”, try converting counts to proportions first, e.g. YOUNG/TOTAL, etc.\nYou can encode categories (e.g., Planning Area) using color = ~PA in plot_ly() or aesthetic mapping in ggtern()."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "",
    "text": "In this hands-on exercise, I practise uncertainty visualisation using:\n\nggplot2 error bars (standard error + confidence intervals),\ninteractive error bars (plotly + crosstalk),\nggdist intervals, and\nHypothetical Outcome Plots (HOPs) with ungeviz."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#standard-error-bars",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#standard-error-bars",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "11.5.1 Standard error bars",
    "text": "11.5.1 Standard error bars\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(\n      x = RACE,\n      ymin = mean - se,\n      ymax = mean + se\n    ),\n    width = 0.2,\n    colour = \"black\",\n    alpha = 0.9,\n    linewidth = 0.5\n  ) +\n  geom_point(\n    aes(x = RACE, y = mean),\n    stat = \"identity\",\n    color = \"red\",\n    size = 1.5,\n    alpha = 1\n  ) +\n  ggtitle(\"Standard error of mean maths score by race\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#confidence-interval-error-bars",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#confidence-interval-error-bars",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "11.5.2 95% confidence interval error bars",
    "text": "11.5.2 95% confidence interval error bars\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(\n      x = reorder(RACE, -mean),\n      ymin = mean - 1.96 * se,\n      ymax = mean + 1.96 * se\n    ),\n    width = 0.2,\n    colour = \"black\",\n    alpha = 0.9,\n    linewidth = 0.5\n  ) +\n  geom_point(\n    aes(x = RACE, y = mean),\n    stat = \"identity\",\n    color = \"red\",\n    size = 1.5,\n    alpha = 1\n  ) +\n  labs(\n    x = \"Maths score\",\n    title = \"95% confidence interval of mean maths score by race\"\n  )"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#interactive-error-bars-99-ci",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#interactive-error-bars-99-ci",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "11.5.3 Interactive error bars (99% CI)",
    "text": "11.5.3 Interactive error bars (99% CI)\n\nshared_df &lt;- SharedData$new(my_sum)\n\np_int &lt;- ggplot(shared_df) +\n  geom_errorbar(\n    aes(\n      x = reorder(RACE, -mean),\n      ymin = mean - 2.58 * se,\n      ymax = mean + 2.58 * se\n    ),\n    width = 0.2,\n    colour = \"black\",\n    alpha = 0.9,\n    size = 0.5\n  ) +\n  geom_point(\n    aes(x = RACE, y = mean),\n    stat = \"identity\",\n    color = \"red\",\n    size = 1.5,\n    alpha = 1\n  ) +\n  labs(\n    x = \"Race\",\n    y = \"Mean maths score\",\n    title = \"Interactive error bars (99% CI)\"\n  )\n\ncrosstalk::bscols(\n  widths = c(4, 8),\n  ggplotly(p_int, tooltip = c(\"x\", \"y\")),\n  DT::datatable(shared_df, class = \"compact\")\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#stat_pointinterval",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#stat_pointinterval",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "11.6.1 stat_pointinterval()",
    "text": "11.6.1 stat_pointinterval()\n\nexam %&gt;%\n  ggplot(aes(x = RACE, y = MATHS)) +\n  stat_pointinterval() +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\"\n  )\n\n\n\n\n\n\n\n\n\nexam %&gt;%\n  ggplot(aes(x = RACE, y = MATHS)) +\n  stat_pointinterval(\n    .width = 0.95,\n    .point = median,\n    .interval = qi\n  ) +\n  labs(\n    title = \"Visualising confidence intervals of median math score\",\n    subtitle = \"Median Point + Multiple-interval plot\"\n  )"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#stat_gradientinterval",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#stat_gradientinterval",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "11.6.2 stat_gradientinterval()",
    "text": "11.6.2 stat_gradientinterval()\n\nexam %&gt;%\n  ggplot(aes(x = RACE, y = MATHS)) +\n  stat_gradientinterval(\n    fill = \"skyblue\",\n    show.legend = TRUE\n  ) +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Gradient + interval plot\"\n  )"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#install-ungeviz-one-time",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#install-ungeviz-one-time",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "11.7.1 Install ungeviz (one-time)",
    "text": "11.7.1 Install ungeviz (one-time)\n\n# devtools::install_github(\"wilkelab/ungeviz\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#build-hops-animation",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html#build-hops-animation",
    "title": "Hands-on Exercise 4D: Visualising Uncertainty",
    "section": "11.7.2 Build HOPs animation",
    "text": "11.7.2 Build HOPs animation\n\nlibrary(ungeviz)\n\nggplot(data = exam, aes(x = factor(RACE), y = MATHS)) +\n  geom_point(\n    position = position_jitter(height = 0.3, width = 0.05),\n    size = 0.4,\n    color = \"#0072B2\",\n    alpha = 1/2\n  ) +\n  geom_hpline(\n    data = sampler(25, group = RACE),\n    height = 0.6,\n    color = \"#D55E00\"\n  ) +\n  theme_bw() +\n  transition_states(.draw, 1, 3)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "",
    "text": "In this hands-on exercise, I practise two distribution visualisation methods using Exam_data.csv:\n\nRidgeline plots (ggridges)\nRaincloud plots (ggdist)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#basic-ridgeline-plot",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#basic-ridgeline-plot",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.4.1 Basic ridgeline plot",
    "text": "9.4.1 Basic ridgeline plot\n\nggplot(exam, aes(x = ENGLISH, y = CLASS)) +\n  geom_density_ridges(\n    scale = 3,\n    rel_min_height = 0.01,\n    bandwidth = 3.4,\n    fill = lighten(\"#7097BB\", 0.3),\n    color = \"white\"\n  ) +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n  ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#varying-fill-colors-along-the-x-axis",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#varying-fill-colors-along-the-x-axis",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.4.2 Varying fill colors along the x axis",
    "text": "9.4.2 Varying fill colors along the x axis\n\nggplot(exam, aes(x = ENGLISH, y = CLASS, fill = stat(x))) +\n  geom_density_ridges_gradient(\n    scale = 3,\n    rel_min_height = 0.01\n  ) +\n  scale_fill_viridis_c(name = \"Temp. [F]\", option = \"C\") +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n  ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#mapping-tail-probabilities-ecdf",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#mapping-tail-probabilities-ecdf",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.4.3 Mapping tail probabilities (ecdf)",
    "text": "9.4.3 Mapping tail probabilities (ecdf)\n\nggplot(exam,\n       aes(x = ENGLISH,\n           y = CLASS,\n           fill = 0.5 - abs(0.5 - stat(ecdf)))) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE\n  ) +\n  scale_fill_viridis_c(\n    name = \"Tail probability\",\n    direction = -1\n  ) +\n  theme_ridges()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#ridgeline-plots-with-quantile-lines",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#ridgeline-plots-with-quantile-lines",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.4.4 Ridgeline plots with quantile lines",
    "text": "9.4.4 Ridgeline plots with quantile lines\n\nggplot(exam,\n       aes(x = ENGLISH,\n           y = CLASS,\n           fill = factor(stat(quantile)))) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE,\n    quantiles = 4,\n    quantile_lines = TRUE\n  ) +\n  scale_fill_viridis_d(name = \"Quartiles\") +\n  theme_ridges()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#half-eye",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#half-eye",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.5.1 Half-eye",
    "text": "9.5.1 Half-eye\n\nggplot(exam, aes(x = RACE, y = ENGLISH)) +\n  stat_halfeye(\n    adjust = 0.5,\n    justification = -0.2,\n    .width = 0,\n    point_colour = NA\n  )"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#add-boxplot",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#add-boxplot",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.5.2 Add boxplot",
    "text": "9.5.2 Add boxplot\n\nggplot(exam, aes(x = RACE, y = ENGLISH)) +\n  stat_halfeye(\n    adjust = 0.5,\n    justification = -0.2,\n    .width = 0,\n    point_colour = NA\n  ) +\n  geom_boxplot(width = 0.20, outlier.shape = NA)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#add-dot-plot",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#add-dot-plot",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.5.3 Add dot plot",
    "text": "9.5.3 Add dot plot\n\nggplot(exam, aes(x = RACE, y = ENGLISH)) +\n  stat_halfeye(\n    adjust = 0.5,\n    justification = -0.2,\n    .width = 0,\n    point_colour = NA\n  ) +\n  geom_boxplot(width = 0.20, outlier.shape = NA) +\n  stat_dots(\n    side = \"left\",\n    justification = 1.2,\n    binwidth = 0.5,\n    dotsize = 1.5\n  )"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#finishing-touch",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html#finishing-touch",
    "title": "Hands-on Exercise 4B: Visualising Distribution",
    "section": "9.5.4 Finishing touch",
    "text": "9.5.4 Finishing touch\n\nggplot(exam, aes(x = RACE, y = ENGLISH)) +\n  stat_halfeye(\n    adjust = 0.5,\n    justification = -0.2,\n    .width = 0,\n    point_colour = NA\n  ) +\n  geom_boxplot(width = 0.20, outlier.shape = NA) +\n  stat_dots(\n    side = \"left\",\n    justification = 1.2,\n    binwidth = 0.5,\n    dotsize = 1.5\n  ) +\n  coord_flip() +\n  theme_economist()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html",
    "title": "Hands-on Exercise 3B",
    "section": "",
    "text": "In this hands-on exercise, I learn how to create animated statistical graphics.\nI try two methods:\n\ngganimate\nplotly"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#loading-the-r-packages",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#loading-the-r-packages",
    "title": "Hands-on Exercise 3B",
    "section": "4.2.1 Loading the R packages",
    "text": "4.2.1 Loading the R packages\n\npacman::p_load(readxl, gifski, gapminder,\n               plotly, gganimate, tidyverse)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#importing-the-data",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#importing-the-data",
    "title": "Hands-on Exercise 3B",
    "section": "4.2.2 Importing the data",
    "text": "4.2.2 Importing the data\nIn this exercise, I use the Data worksheet from GlobalPopulation.xls.\n\ncol &lt;- c(\"Country\", \"Continent\")\n\nglobalPop &lt;- read_xls(\"../data/GlobalPopulation.xls\",\n                      sheet = \"Data\") %&gt;%\n  mutate(across(col, as.factor)) %&gt;%\n  mutate(Year = as.integer(Year))"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-a-static-population-bubble-plot",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-a-static-population-bubble-plot",
    "title": "Hands-on Exercise 3B",
    "section": "4.3.1 Building a static population bubble plot",
    "text": "4.3.1 Building a static population bubble plot\n\nggplot(globalPop,\n       aes(x = Old, y = Young,\n           size = Population,\n           colour = Country)) +\n  geom_point(alpha = 0.7,\n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(title = \"Year: {frame_time}\",\n       x = \"% Aged\",\n       y = \"% Young\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-the-animated-bubble-plot",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-the-animated-bubble-plot",
    "title": "Hands-on Exercise 3B",
    "section": "4.3.2 Building the animated bubble plot",
    "text": "4.3.2 Building the animated bubble plot\nI add transition_time(Year) and ease_aes('linear').\n\np_anim &lt;- ggplot(globalPop,\n                 aes(x = Old, y = Young,\n                     size = Population,\n                     colour = Country)) +\n  geom_point(alpha = 0.7,\n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(title = \"Year: {frame_time}\",\n       x = \"% Aged\",\n       y = \"% Young\") +\n  transition_time(Year) +\n  ease_aes(\"linear\")\n\np_anim\n\n\n\n\n\n\n\n\n(Optional) If I want to render as GIF:\n\nanimate(p_anim, renderer = gifski_renderer())"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-an-animated-bubble-plot-ggplotly-method",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-an-animated-bubble-plot-ggplotly-method",
    "title": "Hands-on Exercise 3B",
    "section": "4.4.1 Building an animated bubble plot: ggplotly() method",
    "text": "4.4.1 Building an animated bubble plot: ggplotly() method\n\ngg &lt;- ggplot(globalPop,\n             aes(x = Old,\n                 y = Young,\n                 size = Population,\n                 colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = \"% Aged\",\n       y = \"% Young\") +\n  theme(legend.position = \"none\")\n\nggplotly(gg)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-an-animated-bubble-plot-plot_ly-method",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_2.html#building-an-animated-bubble-plot-plot_ly-method",
    "title": "Hands-on Exercise 3B",
    "section": "4.4.2 Building an animated bubble plot: plot_ly() method",
    "text": "4.4.2 Building an animated bubble plot: plot_ly() method\n\nbp &lt;- globalPop %&gt;%\n  plot_ly(x = ~Old,\n          y = ~Young,\n          size = ~Population,\n          color = ~Continent,\n          sizes = c(2, 100),\n          frame = ~Year,\n          text = ~Country,\n          hoverinfo = \"text\",\n          type = \"scatter\",\n          mode = \"markers\") %&gt;%\n  layout(showlegend = FALSE)\n\nbp"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "This hands-on uses a few ggplot2 related packages.\n\ntidyverse: for data import and ggplot2\nggrepel: for labels (avoid overlapping)\nggthemes: extra themes\npatchwork: combine plots\n\n\npacman::p_load(tidyverse, ggrepel, ggthemes, patchwork)\n\n\n\n\n\nexam_data &lt;- read_csv(\"../data/Exam_data.csv\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#install-and-launching-r-packages",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#install-and-launching-r-packages",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "This hands-on uses a few ggplot2 related packages.\n\ntidyverse: for data import and ggplot2\nggrepel: for labels (avoid overlapping)\nggthemes: extra themes\npatchwork: combine plots\n\n\npacman::p_load(tidyverse, ggrepel, ggthemes, patchwork)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#importing-the-data",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#importing-the-data",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "exam_data &lt;- read_csv(\"../data/Exam_data.csv\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#without-ggrepel",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#without-ggrepel",
    "title": "Hands-on Exercise 2",
    "section": "Without ggrepel",
    "text": "Without ggrepel\n\nggplot(data = exam_data,\n       aes(x = MATHS, y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm, linewidth = 0.5) +\n  geom_label(aes(label = ID),\n             hjust = .5,\n             vjust = -.5) +\n  coord_cartesian(xlim = c(0, 100),\n                  ylim = c(0, 100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-ggrepel",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-ggrepel",
    "title": "Hands-on Exercise 2",
    "section": "Working with ggrepel",
    "text": "Working with ggrepel\nNow I use geom_label_repel() to reduce overlapping.\n\nggplot(data = exam_data,\n       aes(x = MATHS, y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm, linewidth = 0.5) +\n  geom_label_repel(aes(label = ID),\n                   fontface = \"bold\",\n                   max.overlaps = 50) +\n  coord_cartesian(xlim = c(0, 100),\n                  ylim = c(0, 100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#default-theme-theme_gray",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#default-theme-theme_gray",
    "title": "Hands-on Exercise 2",
    "section": "Default theme (theme_gray)",
    "text": "Default theme (theme_gray)\n\np_hist &lt;- ggplot(data = exam_data,\n                 aes(x = MATHS)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"black\",\n                 fill = \"grey\") +\n  ggtitle(\"Distribution of Maths scores\")\n\np_hist + theme_gray()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#ggthemes-example-theme_economist",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#ggthemes-example-theme_economist",
    "title": "Hands-on Exercise 2",
    "section": "ggthemes example: theme_economist",
    "text": "ggthemes example: theme_economist\n\np_hist + theme_economist()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#another-ggthemes-example-theme_fivethirtyeight",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#another-ggthemes-example-theme_fivethirtyeight",
    "title": "Hands-on Exercise 2",
    "section": "Another ggthemes example: theme_fivethirtyeight",
    "text": "Another ggthemes example: theme_fivethirtyeight\n\np_hist + theme_fivethirtyeight()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#create-a-few-plots",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#create-a-few-plots",
    "title": "Hands-on Exercise 2",
    "section": "Create a few plots",
    "text": "Create a few plots\n\np1 &lt;- ggplot(data = exam_data,\n             aes(x = MATHS)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"black\",\n                 fill = \"grey\") +\n  coord_cartesian(xlim = c(0, 100)) +\n  ggtitle(\"Maths\")\n\np2 &lt;- ggplot(data = exam_data,\n             aes(x = ENGLISH)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"black\",\n                 fill = \"grey\") +\n  coord_cartesian(xlim = c(0, 100)) +\n  ggtitle(\"English\")\n\np3 &lt;- ggplot(data = exam_data,\n             aes(x = MATHS, y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm, linewidth = 0.5) +\n  coord_cartesian(xlim = c(0, 100),\n                  ylim = c(0, 100)) +\n  ggtitle(\"English vs Maths\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#combining-two-ggplot2-graphs",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#combining-two-ggplot2-graphs",
    "title": "Hands-on Exercise 2",
    "section": "Combining two ggplot2 graphs",
    "text": "Combining two ggplot2 graphs\n\np1 + p2"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#combining-three-ggplot2-graphs",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#combining-three-ggplot2-graphs",
    "title": "Hands-on Exercise 2",
    "section": "Combining three ggplot2 graphs",
    "text": "Combining three ggplot2 graphs\n\n(p1 / p2) | p3"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#adding-tags",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#adding-tags",
    "title": "Hands-on Exercise 2",
    "section": "Adding tags",
    "text": "Adding tags\n\n((p1 / p2) | p3) +\n  plot_annotation(tag_levels = 'I')"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#inserting-a-plot",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#inserting-a-plot",
    "title": "Hands-on Exercise 2",
    "section": "Inserting a plot",
    "text": "Inserting a plot\n\np3 + inset_element(p2,\n                   left = 0.02,\n                   bottom = 0.7,\n                   right = 0.5,\n                   top = 1)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#apply-a-theme-to-the-whole-patchwork",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#apply-a-theme-to-the-whole-patchwork",
    "title": "Hands-on Exercise 2",
    "section": "Apply a theme to the whole patchwork",
    "text": "Apply a theme to the whole patchwork\n\n((p1 / p2) | p3) & theme_economist()"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "In this exercise, I practice the basic idea of Layered Grammar of Graphics using ggplot2.\nBy the end, I should be able to build common statistical charts by combining key components: data, aes(), geoms, stats, facets, coordinates, and themes."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#installing-and-loading-the-required-libraries",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#installing-and-loading-the-required-libraries",
    "title": "Hands-on Exercise 1",
    "section": "Installing and loading the required libraries",
    "text": "Installing and loading the required libraries\nThe code chunk below uses p_load() from pacman to check whether the packages are installed.\nIf not installed, it will install them; if installed, it will load them into the R session.\n\npacman::p_load(tidyverse)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#importing-the-data",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#importing-the-data",
    "title": "Hands-on Exercise 1",
    "section": "Importing the data",
    "text": "Importing the data\nHere we import the dataset Exam_data.csv using read_csv() (from readr, which is part of tidyverse).\n\nexam_data &lt;- read_csv(\"../data/Exam_data.csv\")\n\nQuick notes about the dataset:\n\nIt contains year-end exam results for a cohort of Primary 3 students.\nCategorical variables: ID, CLASS, GENDER, RACE\nContinuous variables: MATHS, ENGLISH, SCIENCE"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#r-graphics-vs-ggplot2-a-quick-comparison",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#r-graphics-vs-ggplot2-a-quick-comparison",
    "title": "Hands-on Exercise 1",
    "section": "R Graphics vs ggplot2 (a quick comparison)",
    "text": "R Graphics vs ggplot2 (a quick comparison)\nBelow is a simple histogram using base R.\n\nhist(exam_data$MATHS)\n\n\n\n\n\n\n\n\nNow we do a similar plot using ggplot2.\nAlthough the code is longer, ggplot2 is more flexible and scalable when plots become more complex.\n\nggplot(data=exam_data, aes(x = MATHS)) +\n  geom_histogram(bins=10,\n                 boundary = 100,\n                 color=\"black\",\n                 fill=\"grey\") +\n  ggtitle(\"Distribution of Maths scores\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#data",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#data",
    "title": "Hands-on Exercise 1",
    "section": "1) data",
    "text": "1) data\nCalling ggplot() with only data= gives a blank canvas (a ggplot object).\n\nggplot(data=exam_data)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#aesthetic-mappings-aes",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#aesthetic-mappings-aes",
    "title": "Hands-on Exercise 1",
    "section": "2) Aesthetic mappings: aes()",
    "text": "2) Aesthetic mappings: aes()\nHere we add an aesthetic mapping (x-axis is MATHS).\nStill no geom, so it will not draw points/bars yet.\n\nggplot(data=exam_data,\n       aes(x= MATHS))"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#geoms-geometric-objects",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#geoms-geometric-objects",
    "title": "Hands-on Exercise 1",
    "section": "3) Geoms (geometric objects)",
    "text": "3) Geoms (geometric objects)\nA plot needs at least one geom. We add geoms with +.\n\ngeom_bar (bar chart for counts)\n\nggplot(data=exam_data,\n       aes(x=RACE)) +\n  geom_bar()\n\n\n\n\n\n\n\n\n\n\ngeom_dotplot\nA dotplot is useful to see a binned distribution using dots.\n\nggplot(data=exam_data,\n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\n\n\n\n\n\n\n\nWe can adjust binwidth and hide the y-axis:\n\nggplot(data=exam_data,\n       aes(x = MATHS)) +\n  geom_dotplot(binwidth=2.5,\n               dotsize = 0.5) +\n  scale_y_continuous(NULL,\n                     breaks = NULL)\n\n\n\n\n\n\n\n\n\n\ngeom_histogram\nDefault histogram:\n\nggplot(data=exam_data,\n       aes(x = MATHS)) +\n  geom_histogram()\n\n\n\n\n\n\n\n\n\nModifying a geom (change parameters in geom)\n\nggplot(data=exam_data,\n       aes(x= MATHS)) +\n  geom_histogram(bins=20,\n                 color=\"black\",\n                 fill=\"light blue\")\n\n\n\n\n\n\n\n\n\n\nModifying the mapping (change aes())\nHere we map fill to GENDER so different genders get different fills.\n\nggplot(data=exam_data,\n       aes(x= MATHS,\n           fill = GENDER)) +\n  geom_histogram(bins=20,\n                 color=\"grey30\")\n\n\n\n\n\n\n\n\n\n\n\ngeom_density\nDensity plot for a smooth distribution curve:\n\nggplot(data=exam_data,\n       aes(x = MATHS)) +\n  geom_density()\n\n\n\n\n\n\n\n\nIf we add colour = GENDER, we will get separate curves by gender.\n\nggplot(data=exam_data,\n       aes(x = MATHS,\n           colour = GENDER)) +\n  geom_density()\n\n\n\n\n\n\n\n\n\n\ngeom_boxplot\nBoxplot is good for comparing distribution between groups.\n\nggplot(data=exam_data,\n       aes(y = MATHS,\n           x= GENDER)) +\n  geom_boxplot()\n\n\n\n\n\n\n\n\nNotched boxplot:\n\nggplot(data=exam_data,\n       aes(y = MATHS,\n           x= GENDER)) +\n  geom_boxplot(notch=TRUE)\n\n\n\n\n\n\n\n\n\n\ngeom_violin\nViolin plot shows the distribution shape.\n\nggplot(data=exam_data,\n       aes(y = MATHS,\n           x= GENDER)) +\n  geom_violin()\n\n\n\n\n\n\n\n\n\n\ngeom_point (scatterplot)\n\nggplot(data=exam_data,\n       aes(x= MATHS,\n           y=ENGLISH)) +\n  geom_point()\n\n\n\n\n\n\n\n\n\n\nCombine geoms\nHere we combine a boxplot with jittered points to show both summary + individual values.\n\nggplot(data=exam_data,\n       aes(y = MATHS,\n           x= GENDER)) +\n  geom_boxplot() +\n  geom_point(position=\"jitter\",\n             size = 0.5)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#working-with-stat",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#working-with-stat",
    "title": "Hands-on Exercise 1",
    "section": "Working with stat()",
    "text": "Working with stat()\nA boxplot itself uses statistical transformation internally:\n\nggplot(data=exam_data,\n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#stat_summary-method-add-mean",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#stat_summary-method-add-mean",
    "title": "Hands-on Exercise 1",
    "section": "stat_summary() method (add mean)",
    "text": "stat_summary() method (add mean)\nWe can add mean points using stat_summary().\n\nggplot(data=exam_data,\n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  stat_summary(geom = \"point\",\n               fun = \"mean\",\n               colour =\"red\",\n               size=4)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#using-geom-but-override-stat",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#using-geom-but-override-stat",
    "title": "Hands-on Exercise 1",
    "section": "Using geom() but override stat",
    "text": "Using geom() but override stat\nSame idea, but we use geom_point() with stat=\"summary\":\n\nggplot(data=exam_data,\n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  geom_point(stat=\"summary\",\n             fun=\"mean\",\n             colour=\"red\",\n             size=4)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#add-a-best-fit-curve-on-a-scatterplot",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#add-a-best-fit-curve-on-a-scatterplot",
    "title": "Hands-on Exercise 1",
    "section": "Add a best fit curve on a scatterplot",
    "text": "Add a best fit curve on a scatterplot\nDefault smooth:\n\nggplot(data=exam_data,\n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(size=0.5)\n\n\n\n\n\n\n\n\nWe can specify a linear model explicitly:\n\nggplot(data=exam_data,\n       aes(x= MATHS,\n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm,\n              linewidth=0.5)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#facet_wrap",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#facet_wrap",
    "title": "Hands-on Exercise 1",
    "section": "facet_wrap()",
    "text": "facet_wrap()\n\nggplot(data=exam_data,\n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n  facet_wrap(~ CLASS)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#facet_grid",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#facet_grid",
    "title": "Hands-on Exercise 1",
    "section": "facet_grid()",
    "text": "facet_grid()\n\nggplot(data=exam_data,\n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n  facet_grid(~ CLASS)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#coord_flip",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#coord_flip",
    "title": "Hands-on Exercise 1",
    "section": "coord_flip()",
    "text": "coord_flip()\n\nggplot(data=exam_data,\n       aes(x=RACE)) +\n  geom_bar()\n\n\n\n\n\n\n\n\nFlip the axes:\n\nggplot(data=exam_data,\n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#changing-xy-range-with-coord_cartesian",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#changing-xy-range-with-coord_cartesian",
    "title": "Hands-on Exercise 1",
    "section": "Changing x/y range with coord_cartesian()",
    "text": "Changing x/y range with coord_cartesian()\nThis is a “zoom” without dropping data outside the range.\n\nggplot(data=exam_data,\n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm,\n              size=0.5) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html",
    "title": "Hands-on Exercise 3_1",
    "section": "",
    "text": "In this hands-on exercise, I learn how to create interactive data visualisation by using functions provided by ggiraph and plotly."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#tooltip-effect-with-tooltip-aesthetic",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#tooltip-effect-with-tooltip-aesthetic",
    "title": "Hands-on Exercise 3_1",
    "section": "3.4.1 Tooltip effect with tooltip aesthetic",
    "text": "3.4.1 Tooltip effect with tooltip aesthetic\nThe code chunk has two parts:\n(1) create a ggplot object, (2) use girafe() to display it.\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = ID),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6 * 0.618\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#displaying-multiple-information-on-tooltip",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#displaying-multiple-information-on-tooltip",
    "title": "Hands-on Exercise 3_1",
    "section": "3.5.1 Displaying multiple information on tooltip",
    "text": "3.5.1 Displaying multiple information on tooltip\nHere I create a new field tooltip and include both ID and CLASS.\n\nexam_data$tooltip &lt;- c(paste0(\n  \"Name = \", exam_data$ID,\n  \"\n Class = \", exam_data$CLASS\n))\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = exam_data$tooltip),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 8,\n  height_svg = 8 * 0.618\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#customising-tooltip-style",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#customising-tooltip-style",
    "title": "Hands-on Exercise 3_1",
    "section": "3.6.1 Customising Tooltip style",
    "text": "3.6.1 Customising Tooltip style\nI use opts_tooltip() to customise tooltip rendering with css.\n\ntooltip_css &lt;- \"background-color:white;\nfont-style:bold; color:black;\"\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = ID),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6 * 0.618,\n  options = list(\n    opts_tooltip(css = tooltip_css)\n  )\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#displaying-statistics-on-tooltip",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#displaying-statistics-on-tooltip",
    "title": "Hands-on Exercise 3_1",
    "section": "3.6.2 Displaying statistics on tooltip",
    "text": "3.6.2 Displaying statistics on tooltip\nThis example uses a function to compute the mean and +/- value (mean_se), then show it on tooltip.\n\ntooltip &lt;- function(y, ymax, accuracy = .01) {\n  mean &lt;- scales::number(y, accuracy = accuracy)\n  sem &lt;- scales::number(ymax - y, accuracy = accuracy)\n  paste(\"Mean maths scores:\", mean, \"+/-\", sem)\n}\n\ngg_point &lt;- ggplot(data = exam_data,\n                   aes(x = RACE)) +\n  stat_summary(\n    aes(y = MATHS,\n        tooltip = after_stat(tooltip(y, ymax))),\n    fun.data = \"mean_se\",\n    geom = GeomInteractiveCol,\n    fill = \"light blue\"\n  ) +\n  stat_summary(\n    aes(y = MATHS),\n    fun.data = mean_se,\n    geom = \"errorbar\",\n    width = 0.2,\n    linewidth = 0.3\n  )\n\ngirafe(\n  ggobj = gg_point,\n  width_svg = 8,\n  height_svg = 8 * 0.618\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#hover-effect-with-data_id-aesthetic",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#hover-effect-with-data_id-aesthetic",
    "title": "Hands-on Exercise 3_1",
    "section": "3.6.3 Hover effect with data_id aesthetic",
    "text": "3.6.3 Hover effect with data_id aesthetic\ndata_id is used to link elements. The points will highlight when mouse over.\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(data_id = CLASS),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6 * 0.618\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#styling-hover-effect",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#styling-hover-effect",
    "title": "Hands-on Exercise 3_1",
    "section": "3.6.4 Styling hover effect",
    "text": "3.6.4 Styling hover effect\nHere I change the hover effect by using opts_hover() and opts_hover_inv().\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(data_id = CLASS),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6 * 0.618,\n  options = list(\n    opts_hover(css = \"fill: #202020;\"),\n    opts_hover_inv(css = \"opacity:0.2;\")\n  )\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#combining-tooltip-and-hover-effect",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#combining-tooltip-and-hover-effect",
    "title": "Hands-on Exercise 3_1",
    "section": "3.6.5 Combining tooltip and hover effect",
    "text": "3.6.5 Combining tooltip and hover effect\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = CLASS,\n        data_id = CLASS),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6 * 0.618,\n  options = list(\n    opts_hover(css = \"fill: #202020;\"),\n    opts_hover_inv(css = \"opacity:0.2;\")\n  )\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#click-effect-with-onclick",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#click-effect-with-onclick",
    "title": "Hands-on Exercise 3_1",
    "section": "3.6.6 Click effect with onclick",
    "text": "3.6.6 Click effect with onclick\nonclick provides hotlink interactivity.\nHere I use it to open a web link when clicking a point.\n\nexam_data$onclick &lt;- sprintf(\n  \"window.open(\\\"%s%s\\\")\",\n  \"https://www.moe.gov.sg/schoolfinder?journey=Primary%20school\",\n  as.character(exam_data$ID)\n)\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(onclick = onclick),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6 * 0.618\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#coordinated-multiple-views-with-ggiraph",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#coordinated-multiple-views-with-ggiraph",
    "title": "Hands-on Exercise 3_1",
    "section": "3.6.7 Coordinated Multiple Views with ggiraph",
    "text": "3.6.7 Coordinated Multiple Views with ggiraph\nTo link observations between plots, I use the same data_id = ID in both plots, then combine them by patchwork inside girafe().\n\np1 &lt;- ggplot(data = exam_data,\n             aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(data_id = ID),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  coord_cartesian(xlim = c(0, 100)) +\n  scale_y_continuous(NULL, breaks = NULL)\n\np2 &lt;- ggplot(data = exam_data,\n             aes(x = ENGLISH)) +\n  geom_dotplot_interactive(\n    aes(data_id = ID),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\"\n  ) +\n  coord_cartesian(xlim = c(0, 100)) +\n  scale_y_continuous(NULL, breaks = NULL)\n\ngirafe(\n  code = print(p1 + p2),\n  width_svg = 6,\n  height_svg = 3,\n  options = list(\n    opts_hover(css = \"fill: #202020;\"),\n    opts_hover_inv(css = \"opacity:0.2;\")\n  )\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "title": "Hands-on Exercise 3_1",
    "section": "3.7.1 Creating an interactive scatter plot: plot_ly() method",
    "text": "3.7.1 Creating an interactive scatter plot: plot_ly() method\n\nplot_ly(data = exam_data,\n        x = ~MATHS,\n        y = ~ENGLISH)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#working-with-visual-variable-plot_ly-method",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#working-with-visual-variable-plot_ly-method",
    "title": "Hands-on Exercise 3_1",
    "section": "3.7.2 Working with visual variable: plot_ly() method",
    "text": "3.7.2 Working with visual variable: plot_ly() method\nHere I map colour to RACE.\n\nplot_ly(data = exam_data,\n        x = ~ENGLISH,\n        y = ~MATHS,\n        color = ~RACE)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "title": "Hands-on Exercise 3_1",
    "section": "3.7.3 Creating an interactive scatter plot: ggplotly() method",
    "text": "3.7.3 Creating an interactive scatter plot: ggplotly() method\n\np &lt;- ggplot(data = exam_data,\n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size = 1) +\n  coord_cartesian(xlim = c(0, 100),\n                  ylim = c(0, 100))\n\nggplotly(p)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#coordinated-multiple-views-with-plotly",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#coordinated-multiple-views-with-plotly",
    "title": "Hands-on Exercise 3_1",
    "section": "3.7.4 Coordinated Multiple Views with plotly",
    "text": "3.7.4 Coordinated Multiple Views with plotly\nSteps: - use highlight_key() to create shared data, - build two ggplots, - use subplot() to place them side-by-side.\n\nd &lt;- highlight_key(exam_data)\n\np1 &lt;- ggplot(data = d,\n             aes(x = MATHS,\n                 y = ENGLISH)) +\n  geom_point(size = 1) +\n  coord_cartesian(xlim = c(0, 100),\n                  ylim = c(0, 100))\n\np2 &lt;- ggplot(data = d,\n             aes(x = MATHS,\n                 y = SCIENCE)) +\n  geom_point(size = 1) +\n  coord_cartesian(xlim = c(0, 100),\n                  ylim = c(0, 100))\n\nsubplot(ggplotly(p1),\n        ggplotly(p2))"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#interactive-data-table-dt-package",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#interactive-data-table-dt-package",
    "title": "Hands-on Exercise 3_1",
    "section": "3.8.1 Interactive Data Table: DT package",
    "text": "3.8.1 Interactive Data Table: DT package\n\nDT::datatable(exam_data, class = \"compact\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#linked-brushing-crosstalk-method",
    "href": "Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03_1.html#linked-brushing-crosstalk-method",
    "title": "Hands-on Exercise 3_1",
    "section": "3.8.2 Linked brushing: crosstalk method",
    "text": "3.8.2 Linked brushing: crosstalk method\nHere I use plotly highlight and DT together.\n\nd &lt;- highlight_key(exam_data)\n\np &lt;- ggplot(d,\n            aes(ENGLISH, MATHS)) +\n  geom_point(size = 1) +\n  coord_cartesian(xlim = c(0, 100),\n                  ylim = c(0, 100))\n\ngg &lt;- highlight(ggplotly(p),\n                \"plotly_selected\")\n\ncrosstalk::bscols(gg,\n                  DT::datatable(d),\n                  widths = 5)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "",
    "text": "In this hands-on exercise, I practise funnel plots for fair comparison across sub-districts.\nI follow the structure in the teaching notes and create:\n\nfunnel plots using FunnelPlotR,\na static funnel plot built step-by-step with ggplot2, and\nan interactive version using plotly."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#the-basic-plot",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#the-basic-plot",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "8.4.1 The basic plot",
    "text": "8.4.1 The basic plot\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Positive,\n  denominator = Death,\n  group = `Sub-district`\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 0 are outliers. \nPlot is adjusted for overdispersion."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#makeover-1",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#makeover-1",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "8.4.2 Makeover 1",
    "text": "8.4.2 Makeover 1\nUse data_type = \"PR\" to show proportions (Death / Positive), and zoom by xrange and yrange.\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Death,\n  denominator = Positive,\n  group = `Sub-district`,\n  data_type = \"PR\",\n  xrange = c(0, 6500),\n  yrange = c(0, 0.05)\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#makeover-2",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#makeover-2",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "8.4.3 Makeover 2",
    "text": "8.4.3 Makeover 2\nRemove outlier labels and add titles.\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Death,\n  denominator = Positive,\n  group = `Sub-district`,\n  data_type = \"PR\",\n  xrange = c(0, 6500),\n  yrange = c(0, 0.05),\n  label = NA,\n  title = \"Cumulative COVID-19 Fatality Rate by Cumulative Total Number of COVID-19 Positive Cases\",\n  x_label = \"Cumulative COVID-19 Positive Cases\",\n  y_label = \"Cumulative Fatality Rate\"\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#computing-the-derived-fields",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#computing-the-derived-fields",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "8.5.1 Computing the derived fields",
    "text": "8.5.1 Computing the derived fields\n\ndf &lt;- covid19 %&gt;%\n  mutate(rate = Death / Positive) %&gt;%\n  mutate(rate.se = sqrt((rate * (1 - rate)) / Positive)) %&gt;%\n  filter(rate &gt; 0)\n\nfit.mean &lt;- weighted.mean(df$rate, 1 / df$rate.se^2)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#compute-95-and-99.9-control-limits",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#compute-95-and-99.9-control-limits",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "8.5.2 Compute 95% and 99.9% control limits",
    "text": "8.5.2 Compute 95% and 99.9% control limits\n\nnumber.seq &lt;- seq(1, max(df$Positive), 1)\n\nnumber.ll95  &lt;- fit.mean - 1.96 * sqrt((fit.mean * (1 - fit.mean)) / number.seq)\nnumber.ul95  &lt;- fit.mean + 1.96 * sqrt((fit.mean * (1 - fit.mean)) / number.seq)\nnumber.ll999 &lt;- fit.mean - 3.29 * sqrt((fit.mean * (1 - fit.mean)) / number.seq)\nnumber.ul999 &lt;- fit.mean + 3.29 * sqrt((fit.mean * (1 - fit.mean)) / number.seq)\n\ndfCI &lt;- data.frame(\n  number.ll95, number.ul95, number.ll999, number.ul999,\n  number.seq, fit.mean\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#static-funnel-plot",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#static-funnel-plot",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "8.5.3 Static funnel plot",
    "text": "8.5.3 Static funnel plot\n\np &lt;- ggplot(df, aes(x = Positive, y = rate)) +\n  geom_point(aes(label = `Sub-district`), alpha = 0.4) +\n  geom_line(data = dfCI, aes(x = number.seq, y = number.ll95),\n            size = 0.4, colour = \"grey40\", linetype = \"dashed\") +\n  geom_line(data = dfCI, aes(x = number.seq, y = number.ul95),\n            size = 0.4, colour = \"grey40\", linetype = \"dashed\") +\n  geom_line(data = dfCI, aes(x = number.seq, y = number.ll999),\n            size = 0.4, colour = \"grey40\") +\n  geom_line(data = dfCI, aes(x = number.seq, y = number.ul999),\n            size = 0.4, colour = \"grey40\") +\n  geom_hline(data = dfCI, aes(yintercept = fit.mean),\n             size = 0.4, colour = \"grey40\") +\n  coord_cartesian(ylim = c(0, 0.05)) +\n  annotate(\"text\", x = 1,   y = -0.13, label = \"95%\", size = 3, colour = \"grey40\") +\n  annotate(\"text\", x = 4.5, y = -0.18, label = \"99%\", size = 3, colour = \"grey40\") +\n  ggtitle(\"Cumulative Fatality Rate by Cumulative Number of COVID-19 Cases\") +\n  xlab(\"Cumulative Number of COVID-19 Cases\") +\n  ylab(\"Cumulative Fatality Rate\") +\n  theme_light() +\n  theme(\n    plot.title = element_text(size = 12),\n    legend.position = c(0.91, 0.85),\n    legend.title = element_text(size = 7),\n    legend.text = element_text(size = 7),\n    legend.background = element_rect(colour = \"grey60\", linetype = \"dotted\"),\n    legend.key.height = unit(0.3, \"cm\")\n  )\n\np"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#interactive-funnel-plot-plotly-ggplot2",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html#interactive-funnel-plot-plotly-ggplot2",
    "title": "Hands-on Exercise 4A: Funnel Plots for Fair Comparisons",
    "section": "8.5.4 Interactive funnel plot (plotly + ggplot2)",
    "text": "8.5.4 Interactive funnel plot (plotly + ggplot2)\n\nfp_ggplotly &lt;- ggplotly(\n  p,\n  tooltip = c(\"label\", \"x\", \"y\")\n)\n\nfp_ggplotly"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04c.html",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04c.html",
    "title": "Hands-on Exercise 4C: Visual Statistical Analysis",
    "section": "",
    "text": "10.1 Overview\nIn this hands-on exercise, I practise visual statistical analysis using ggstatsplot. The plots include statistical test results directly in the visual.\n\n\n10.2 Installing and launching R packages\n\npacman::p_load(ggstatsplot, tidyverse)\n\n\n\n10.3 Importing data\n\nexam &lt;- read_csv(\"../data/Exam_data.csv\")\nglimpse(exam)\n\nRows: 322\nColumns: 7\n$ ID      &lt;chr&gt; \"Student321\", \"Student305\", \"Student289\", \"Student227\", \"Stude…\n$ CLASS   &lt;chr&gt; \"3I\", \"3I\", \"3H\", \"3F\", \"3I\", \"3I\", \"3I\", \"3I\", \"3I\", \"3H\", \"3…\n$ GENDER  &lt;chr&gt; \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"M…\n$ RACE    &lt;chr&gt; \"Malay\", \"Malay\", \"Chinese\", \"Chinese\", \"Malay\", \"Malay\", \"Chi…\n$ ENGLISH &lt;dbl&gt; 21, 24, 26, 27, 27, 31, 31, 31, 33, 34, 34, 36, 36, 36, 37, 38…\n$ MATHS   &lt;dbl&gt; 9, 22, 16, 77, 11, 16, 21, 18, 19, 49, 39, 35, 23, 36, 49, 30,…\n$ SCIENCE &lt;dbl&gt; 15, 16, 16, 31, 25, 16, 25, 27, 15, 37, 42, 22, 32, 36, 35, 45…\n\n\n\n\n10.4 One-sample test: gghistostats()\n\nset.seed(1234)\n\ngghistostats(\n  data = exam,\n  x = ENGLISH,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"English scores\"\n)\n\n\n\n\n\n\n\n\n\n\n10.5 Two-sample mean test: ggbetweenstats()\n\nggbetweenstats(\n  data = exam,\n  x = GENDER,\n  y = MATHS,\n  type = \"np\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n10.6 One-way ANOVA: ggbetweenstats()\n\nggbetweenstats(\n  data = exam,\n  x = RACE,\n  y = ENGLISH,\n  type = \"p\",\n  mean.ci = TRUE,\n  pairwise.comparisons = TRUE,\n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n10.7 Significant test of correlation: ggscatterstats()\n\nggscatterstats(\n  data = exam,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n10.8 Significant test of association: ggbarstats()\n\nexam1 &lt;- exam %&gt;%\n  mutate(\n    MATHS_bins = cut(MATHS, breaks = c(0, 60, 75, 85, 100))\n  )\n\nggbarstats(\n  data = exam1,\n  x = MATHS_bins,\n  y = GENDER\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "",
    "text": "Correlation coefficient measures the strength and direction of a linear relationship between two variables (range -1 to 1).\nIn this hands-on, we will:\n\nbuild correlation matrix and scatterplot matrix using base pairs(),\nenhance the matrix by adding correlation coefficients,\nvisualise correlations using ggcorrmat (ggstatsplot) and corrplot,\nexplore layouts (lower/upper/mixed) + significance test + reordering."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#overview",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#overview",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "",
    "text": "Correlation coefficient measures the strength and direction of a linear relationship between two variables (range -1 to 1).\nIn this hands-on, we will:\n\nbuild correlation matrix and scatterplot matrix using base pairs(),\nenhance the matrix by adding correlation coefficients,\nvisualise correlations using ggcorrmat (ggstatsplot) and corrplot,\nexplore layouts (lower/upper/mixed) + significance test + reordering."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#installing-and-launching-r-packages",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#installing-and-launching-r-packages",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "2 6.2 Installing and launching R packages",
    "text": "2 6.2 Installing and launching R packages\n\npacman::p_load(corrplot, ggstatsplot, tidyverse)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#importing-and-preparing-the-data-set",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#importing-and-preparing-the-data-set",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "3 6.3 Importing and preparing the data set",
    "text": "3 6.3 Importing and preparing the data set\nWe use the Wine Quality dataset (CSV in data/ folder).\n\nwine &lt;- read_csv(\"../data/wine_quality.csv\")\nglimpse(wine)\n\nRows: 6,497\nColumns: 13\n$ `fixed acidity`        &lt;dbl&gt; 7.4, 7.8, 7.8, 11.2, 7.4, 7.4, 7.9, 7.3, 7.8, 7…\n$ `volatile acidity`     &lt;dbl&gt; 0.700, 0.880, 0.760, 0.280, 0.700, 0.660, 0.600…\n$ `citric acid`          &lt;dbl&gt; 0.00, 0.00, 0.04, 0.56, 0.00, 0.00, 0.06, 0.00,…\n$ `residual sugar`       &lt;dbl&gt; 1.9, 2.6, 2.3, 1.9, 1.9, 1.8, 1.6, 1.2, 2.0, 6.…\n$ chlorides              &lt;dbl&gt; 0.076, 0.098, 0.092, 0.075, 0.076, 0.075, 0.069…\n$ `free sulfur dioxide`  &lt;dbl&gt; 11, 25, 15, 17, 11, 13, 15, 15, 9, 17, 15, 17, …\n$ `total sulfur dioxide` &lt;dbl&gt; 34, 67, 54, 60, 34, 40, 59, 21, 18, 102, 65, 10…\n$ density                &lt;dbl&gt; 0.9978, 0.9968, 0.9970, 0.9980, 0.9978, 0.9978,…\n$ pH                     &lt;dbl&gt; 3.51, 3.20, 3.26, 3.16, 3.51, 3.51, 3.30, 3.39,…\n$ sulphates              &lt;dbl&gt; 0.56, 0.68, 0.65, 0.58, 0.56, 0.56, 0.46, 0.47,…\n$ alcohol                &lt;dbl&gt; 9.4, 9.8, 9.8, 9.8, 9.4, 9.4, 9.4, 10.0, 9.5, 1…\n$ quality                &lt;dbl&gt; 5, 5, 5, 6, 5, 5, 5, 7, 7, 5, 5, 5, 5, 5, 5, 5,…\n$ type                   &lt;chr&gt; \"red\", \"red\", \"red\", \"red\", \"red\", \"red\", \"red\"…\n\n\nFor correlation matrix, we focus on the numeric columns (usually columns 2 to 12).\n\nwine_num &lt;- wine[, 2:12]"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#building-the-correlation-matrix-pairs",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#building-the-correlation-matrix-pairs",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "4 6.4 Building the correlation matrix: pairs()",
    "text": "4 6.4 Building the correlation matrix: pairs()\n\n4.1 6.4.1 Basic scatterplot matrix\n\npairs(wine_num)\n\n\n\n\n\n\n\n\n\n\n4.2 6.4.2 Drawing only one triangle (lower / upper)\nLower triangle only:\n\npairs(wine_num, upper.panel = NULL)\n\n\n\n\n\n\n\n\nUpper triangle only:\n\npairs(wine_num, lower.panel = NULL)\n\n\n\n\n\n\n\n\n\n\n4.3 6.4.3 Add correlation coefficients\nWe replace one panel with a correlation-number panel.\n\npanel.cor &lt;- function(x, y, digits = 2, prefix = \"\", cex.cor, ...) {\n  usr &lt;- par(\"usr\"); on.exit(par(usr))\n  par(usr = c(0, 1, 0, 1))\n  r &lt;- abs(cor(x, y, use = \"complete.obs\"))\n  txt &lt;- format(c(r, 0.123456789), digits = digits)[1]\n  txt &lt;- paste0(prefix, txt)\n  if (missing(cex.cor)) cex.cor &lt;- 0.8 / strwidth(txt)\n  text(0.5, 0.5, txt, cex = cex.cor * (1 + r) / 2)\n}\n\npairs(wine_num, upper.panel = panel.cor)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#visualising-correlation-matrix-ggcorrmat",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#visualising-correlation-matrix-ggcorrmat",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "5 6.5 Visualising correlation matrix: ggcorrmat()",
    "text": "5 6.5 Visualising correlation matrix: ggcorrmat()\nA clean, publication-style correlation plot.\n\nggstatsplot::ggcorrmat(\n  data = wine,\n  cor.vars = 1:11,               # adjust if your dataset has different columns\n  ggcorrplot.args = list(outline.color = \"black\"),\n  hc.order = TRUE,\n  tl.cex = 10,\n  title = \"Correlogram for wine dataset\",\n  subtitle = \"Pearson correlation (x = non-significant at p &lt; 0.05; Holm adjustment)\"\n)\n\n\n\n\n\n\n\n\n\n5.1 6.6 Building multiple plots (faceting by a group)\nIf you have a group variable like type (red/white), you can facet the correlogram.\n\nwine &lt;- wine %&gt;%\n  janitor::clean_names() %&gt;%\n  mutate(type = as.factor(type))\n\nnum_vars &lt;- wine %&gt;% select(where(is.numeric)) %&gt;% names()\nstopifnot(length(num_vars) &gt;= 2)\n\nwine_corr &lt;- wine %&gt;% select(type, all_of(num_vars))\n\nggstatsplot::grouped_ggcorrmat(\n  data = wine_corr,\n  cor.vars = num_vars,\n  grouping.var = type,   # ✅ 注意这里！！\n  type = \"robust\",\n  p.adjust.method = \"holm\",\n  plotgrid.args = list(ncol = 2),\n  ggcorrplot.args = list(outline.color = \"black\"),\n  hc.order = TRUE,\n  tl.cex = 10,\n  annotation.args = list(\n    title = \"Correlogram for wine dataset\",\n    caption = \"Dataset: UCI Machine Learning Repository\"\n  )\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#visualising-correlation-matrix-using-corrplot",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#visualising-correlation-matrix-using-corrplot",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "6 6.7 Visualising correlation matrix using corrplot",
    "text": "6 6.7 Visualising correlation matrix using corrplot\n\n6.1 6.7.1 Getting started\n\nwine_cor &lt;- cor(wine_num, use = \"complete.obs\")\ncorrplot(wine_cor)\n\n\n\n\n\n\n\n\n\n\n6.2 6.7.2 Visual geometries (ellipse)\n\ncorrplot(wine_cor, method = \"ellipse\")\n\n\n\n\n\n\n\n\n\n\n6.3 6.7.3 Working with layout (lower)\n\ncorrplot(wine_cor, method = \"ellipse\", type = \"lower\")\n\n\n\n\n\n\n\n\nYou can customize diagonal and text color:\n\ncorrplot(wine_cor, method = \"ellipse\", type = \"lower\",\n         diag = FALSE, tl.col = \"black\")\n\n\n\n\n\n\n\n\n\n\n6.4 6.7.4 Mixed layout (numbers + shapes)\n\ncorrplot.mixed(wine_cor,\n               lower = \"ellipse\",\n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\n\n\n6.5 6.7.5 Combine corrgram with significance test\nCompute p-values using cor.test() pairwise, then pass into corrplot() via p.mat.\n\ncor.mtest &lt;- function(mat, conf.level = 0.95) {\n  mat &lt;- as.matrix(mat)\n  n &lt;- ncol(mat)\n  p.mat &lt;- matrix(NA, n, n)\n  diag(p.mat) &lt;- 0\n  for (i in 1:(n - 1)) {\n    for (j in (i + 1):n) {\n      tmp &lt;- cor.test(mat[, i], mat[, j], conf.level = conf.level)\n      p.mat[i, j] &lt;- p.mat[j, i] &lt;- tmp$p.value\n    }\n  }\n  colnames(p.mat) &lt;- rownames(p.mat) &lt;- colnames(mat)\n  p.mat\n}\n\nwine_sig &lt;- cor.mtest(wine_num)\n\ncorrplot(wine_cor,\n         method = \"number\",\n         type = \"lower\",\n         diag = FALSE,\n         tl.col = \"black\",\n         tl.srt = 45,\n         p.mat = wine_sig,\n         sig.level = 0.05)\n\n\n\n\n\n\n\n\n\n\n6.6 6.7.6 Reorder a corrgram\n\ncorrplot.mixed(wine_cor,\n               lower = \"ellipse\",\n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               order = \"AOE\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\n\n\n6.7 6.7.7 Reordering using hierarchical clustering (hclust)\n\ncorrplot(wine_cor,\n         method = \"ellipse\",\n         tl.pos = \"lt\",\n         order = \"hclust\",\n         hclust.method = \"ward.D\",\n         addrect = 3)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#notes-tips",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05a.html#notes-tips",
    "title": "Hands-on Exercise 06: Visual Correlation Analysis",
    "section": "7 Notes / Tips",
    "text": "7 Notes / Tips\n\nIf your dataset has missing values, use use = \"complete.obs\" in cor().\nAlways sanity-check: correlation ≠ causation."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html",
    "title": "Hands-on Exercise 14: Heatmap for Visualising and Analysing Multivariate Data",
    "section": "",
    "text": "Heatmaps show multivariate patterns using color intensity (good for spotting clusters, similarity, and outliers).\nIn this hands-on, we will create:\n\nstatic heatmaps (base heatmap()),\ninteractive heatmaps using heatmaply,\ndifferent data transformations (scale / normalize / percentize),\nclustering method selection + number of clusters,\nordering with seriation."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#overview",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#overview",
    "title": "Hands-on Exercise 14: Heatmap for Visualising and Analysing Multivariate Data",
    "section": "",
    "text": "Heatmaps show multivariate patterns using color intensity (good for spotting clusters, similarity, and outliers).\nIn this hands-on, we will create:\n\nstatic heatmaps (base heatmap()),\ninteractive heatmaps using heatmaply,\ndifferent data transformations (scale / normalize / percentize),\nclustering method selection + number of clusters,\nordering with seriation."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#installing-and-launching-r-packages",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#installing-and-launching-r-packages",
    "title": "Hands-on Exercise 14: Heatmap for Visualising and Analysing Multivariate Data",
    "section": "2 14.2 Installing and launching R packages",
    "text": "2 14.2 Installing and launching R packages\n\npacman::p_load(seriation, dendextend, heatmaply, tidyverse)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#importing-and-preparing-the-data-set",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#importing-and-preparing-the-data-set",
    "title": "Hands-on Exercise 14: Heatmap for Visualising and Analysing Multivariate Data",
    "section": "3 14.3 Importing and preparing the data set",
    "text": "3 14.3 Importing and preparing the data set\nWe use World Happiness 2018 dataset (CSV in data/ folder).\n\nwh &lt;- read_csv(\"../data/WHData-2018.csv\")\nglimpse(wh)\n\nRows: 156\nColumns: 12\n$ Country                        &lt;chr&gt; \"Albania\", \"Bosnia and Herzegovina\", \"B…\n$ Region                         &lt;chr&gt; \"Central and Eastern Europe\", \"Central …\n$ `Happiness score`              &lt;dbl&gt; 4.586, 5.129, 4.933, 5.321, 6.711, 5.73…\n$ `Whisker-high`                 &lt;dbl&gt; 4.695, 5.224, 5.022, 5.398, 6.783, 5.81…\n$ `Whisker-low`                  &lt;dbl&gt; 4.477, 5.035, 4.844, 5.244, 6.639, 5.66…\n$ Dystopia                       &lt;dbl&gt; 1.462, 1.883, 1.219, 1.769, 2.494, 1.45…\n$ `GDP per capita`               &lt;dbl&gt; 0.916, 0.915, 1.054, 1.115, 1.233, 1.20…\n$ `Social support`               &lt;dbl&gt; 0.817, 1.078, 1.515, 1.161, 1.489, 1.53…\n$ `Healthy life expectancy`      &lt;dbl&gt; 0.790, 0.758, 0.712, 0.737, 0.854, 0.73…\n$ `Freedom to make life choices` &lt;dbl&gt; 0.419, 0.280, 0.359, 0.380, 0.543, 0.55…\n$ Generosity                     &lt;dbl&gt; 0.149, 0.216, 0.064, 0.120, 0.064, 0.08…\n$ `Perceptions of corruption`    &lt;dbl&gt; 0.032, 0.000, 0.009, 0.039, 0.034, 0.17…\n\n\n\n3.1 14.3.1 Use Country as row names\n\nwh &lt;- wh %&gt;% mutate(Country = as.character(Country))\nrow.names(wh) &lt;- wh$Country\n\n\n\n3.2 14.3.2 Transform data frame into matrix\nSelect columns that represent numeric indicators (adjust indices if your file differs).\n\nwh1 &lt;- wh %&gt;% dplyr::select(c(3, 7:12))\nwh_matrix &lt;- data.matrix(wh1)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#static-heatmap-base-heatmap",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#static-heatmap-base-heatmap",
    "title": "Hands-on Exercise 14: Heatmap for Visualising and Analysing Multivariate Data",
    "section": "4 14.4 Static heatmap (base heatmap())",
    "text": "4 14.4 Static heatmap (base heatmap())\n\n4.1 14.4.1 Default heatmap\n\nwh_heatmap &lt;- heatmap(wh_matrix, Rowv = NA, Colv = NA)\n\n\n\n\n\n\n\n\n\n\n4.2 14.4.2 Cluster heatmap + scaling\nBecause variables have different ranges, scaling often helps.\n\nwh_heatmap &lt;- heatmap(\n  wh_matrix,\n  scale = \"column\",\n  cexRow = 0.6,\n  cexCol = 0.8,\n  margins = c(10, 4)\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#creating-interactive-heatmap-heatmaply",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#creating-interactive-heatmap-heatmaply",
    "title": "Hands-on Exercise 14: Heatmap for Visualising and Analysing Multivariate Data",
    "section": "5 14.5 Creating interactive heatmap (heatmaply)",
    "text": "5 14.5 Creating interactive heatmap (heatmaply)\n\n5.1 14.5.1 Basic heatmaply\n\nheatmaply(wh_matrix)\n\n\n\n\n\n\n\n5.2 14.5.2 Data transformation options\nScaling (z-score) column-wise:\n\nheatmaply(wh_matrix, scale = \"column\")\n\n\n\n\n\nNormalising (0–1 scale) on the input data (typically after selecting numeric cols):\n\nheatmaply(normalize(wh_matrix))\n\n\n\n\n\nPercentising (convert each value into percentile rank):\n\nheatmaply(percentize(wh_matrix))\n\n\n\n\n\n\n\n5.3 14.5.3 Clustering method & number of clusters\nYou can compare clustering methods using dendextend (one practical workflow is to compute distances and evaluate).\nBelow shows a commonly-used approach consistent with the lecture workflow: estimate the number of clusters (k) via silhouette.\n\n# distance and clustering\nwh_d &lt;- dist(normalize(wh_matrix), method = \"euclidean\")\nwh_clust &lt;- hclust(wh_d, method = \"average\")\n\n# find a reasonable k using silhouette (heatmaply provides helpers in some setups)\nnum_k &lt;- find_k(wh_clust)\nplot(num_k)\n\n\n\n\n\n\n\n\nThen plot with a selected k (example: k = 3):\n\nheatmaply(\n  normalize(wh_matrix),\n  dist_method = \"euclidean\",\n  hclust_method = \"average\",\n  k_row = 3\n)\n\n\n\n\n\n\n\n5.4 14.5.4 Seriation (re-ordering)\nSeriation reorders rows/columns to make similar items adjacent. Try different methods:\n\nheatmaply(normalize(wh_matrix), seriate = \"OLO\")\n\n\n\n\nheatmaply(normalize(wh_matrix), seriate = \"GW\")\n\n\n\n\nheatmaply(normalize(wh_matrix), seriate = \"mean\")\n\n\n\n\nheatmaply(normalize(wh_matrix), seriate = \"none\")\n\n\n\n\n\n\n\n5.5 14.5.5 Colour palettes\nUse a single-hue palette (e.g., Blues) to avoid misleading diverging colors when all values are positive.\n\nheatmaply(\n  normalize(wh_matrix),\n  seriate = \"none\",\n  colors = viridisLite::viridis(256)\n)\n\n\n\n\n\n\n\n5.6 14.5.6 Finishing touch\nAdd clearer labels and tune margins/font sizes.\n\nheatmaply(\n  normalize(wh_matrix),\n  seriate = \"none\",\n  colors = viridisLite::viridis(256),\n  k_row = 5,\n  margins = c(50, 200, 60, 20),\n  fontsize_row = 4,\n  fontsize_col = 5,\n  main = \"World Happiness Score and Variables by Country, 2018\",\n  xlab = \"World Happiness Indicators\",\n  ylab = \"World Countries\"\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#notes-tips",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05c.html#notes-tips",
    "title": "Hands-on Exercise 14: Heatmap for Visualising and Analysing Multivariate Data",
    "section": "6 Notes / Tips",
    "text": "6 Notes / Tips\n\nHeatmaps are very sensitive to scaling: always decide if you need raw vs scaled values.\nIf your row labels become unreadable, consider filtering top-N countries or using interactive mode."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html",
    "title": "Hands-on Exercise 05e: Treemap Visualisation with R",
    "section": "",
    "text": "In this hands-on exercise, I replicate the workflow demonstrated in the lecture notes (Chap 16) to design treemaps using:\n\ntreemap (static treemaps)\ntreemapify (ggplot2-style treemaps)\nd3treeR (interactive treemap, optional)\n\nNote (dataset year): The lecture screenshots use a 2017 example, but the provided realis2018.csv contains 2018 transactions. I keep the same design steps and update titles to 2018 so that the plots match the data. fileciteturn1file0"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#overview",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#overview",
    "title": "Hands-on Exercise 05e: Treemap Visualisation with R",
    "section": "",
    "text": "In this hands-on exercise, I replicate the workflow demonstrated in the lecture notes (Chap 16) to design treemaps using:\n\ntreemap (static treemaps)\ntreemapify (ggplot2-style treemaps)\nd3treeR (interactive treemap, optional)\n\nNote (dataset year): The lecture screenshots use a 2017 example, but the provided realis2018.csv contains 2018 transactions. I keep the same design steps and update titles to 2018 so that the plots match the data. fileciteturn1file0"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#installing-and-launching-packages",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#installing-and-launching-packages",
    "title": "Hands-on Exercise 05e: Treemap Visualisation with R",
    "section": "2 16.2 Installing and launching packages",
    "text": "2 16.2 Installing and launching packages\n\nImportant: To avoid long renders and Windows compilation issues, do not install packages during render.\nInstall once in the Console if needed:\ninstall.packages(c(\"tidyverse\",\"janitor\",\"treemap\",\"treemapify\"), type=\"binary\")\n\n\n# Required packages for this exercise\nrequired_pkgs &lt;- c(\"tidyverse\", \"janitor\", \"treemap\", \"treemapify\")\nmissing_pkgs &lt;- required_pkgs[!vapply(required_pkgs, requireNamespace, logical(1), quietly = TRUE)]\n\nif (length(missing_pkgs) &gt; 0) {\n  stop(\n    \"Missing packages: \", paste(missing_pkgs, collapse = \", \"),\n    \"\nInstall them in Console, e.g.\n\",\n    \"install.packages(c(\", paste(sprintf('\"%s\"', missing_pkgs), collapse = \", \"), \"), type=\\\"binary\\\")\"\n  )\n}\n\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(treemap)\nlibrary(treemapify)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#data-wrangling",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#data-wrangling",
    "title": "Hands-on Exercise 05e: Treemap Visualisation with R",
    "section": "3 16.3 Data Wrangling",
    "text": "3 16.3 Data Wrangling\n\n3.1 16.3.1 Importing the dataset\n\nrealis2018 &lt;- readr::read_csv(\"../data/realis2018.csv\", show_col_types = FALSE)\nrealis2018 &lt;- realis2018 %&gt;% janitor::clean_names()\nglimpse(realis2018)\n\nRows: 23,205\nColumns: 20\n$ project_name                &lt;chr&gt; \"ADANA @ THOMSON\", \"ALANA\", \"ALANA\", \"ALAN…\n$ address                     &lt;chr&gt; \"8 Old Upper Thomson Road  #05-03\", \"156 S…\n$ no_of_units                 &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ area_sqm                    &lt;dbl&gt; 52, 284, 256, 256, 277, 285, 234, 155, 115…\n$ type_of_area                &lt;chr&gt; \"Strata\", \"Strata\", \"Strata\", \"Strata\", \"S…\n$ transacted_price            &lt;dbl&gt; 888888, 2530000, 2390863, 2450000, 1980000…\n$ nett_price                  &lt;chr&gt; \"-\", \"-\", \"2382517\", \"2441654\", \"-\", \"-\", …\n$ unit_price_psm              &lt;dbl&gt; 17094, 8908, 9307, 9538, 7148, 6947, 14763…\n$ unit_price_psf              &lt;dbl&gt; 1588, 828, 865, 886, 664, 645, 1371, 1499,…\n$ sale_date                   &lt;chr&gt; \"4-Jul-18\", \"5-Oct-18\", \"9-Jun-18\", \"14-Ma…\n$ property_type               &lt;chr&gt; \"Apartment\", \"Terrace House\", \"Terrace Hou…\n$ tenure                      &lt;chr&gt; \"Freehold\", \"103 Yrs From 12/08/2013\", \"10…\n$ completion_date             &lt;chr&gt; \"2018\", \"2018\", \"2018\", \"2018\", \"2008\", \"2…\n$ type_of_sale                &lt;chr&gt; \"New Sale\", \"Sub Sale\", \"New Sale\", \"New S…\n$ purchaser_address_indicator &lt;chr&gt; \"Private\", \"Private\", \"HDB\", \"N.A\", \"Priva…\n$ postal_district             &lt;dbl&gt; 20, 28, 28, 28, 26, 26, 26, 26, 26, 26, 26…\n$ postal_sector               &lt;dbl&gt; 57, 80, 80, 80, 78, 78, 78, 78, 78, 78, 78…\n$ postal_code                 &lt;dbl&gt; 573868, 804555, 804529, 804540, 786300, 78…\n$ planning_region             &lt;chr&gt; \"North East Region\", \"North East Region\", …\n$ planning_area               &lt;chr&gt; \"Ang Mo Kio\", \"Ang Mo Kio\", \"Ang Mo Kio\", …\n\n\n\n\n3.2 16.3.2 Data wrangling and manipulation\nThe raw records are at transaction level (very granular). For treemaps, we summarise by a small set of geographic and property descriptors.\nGoal: compute\n\nTotal units sold\nTotal area\nMedian unit price (psm)\nMedian transacted price\n\ngrouped by:\n\nproject_name\nplanning_region\nplanning_area\nproperty_type\ntype_of_sale\n\n\n\n3.3 16.3.3 Grouped summaries (without the pipe)\n\nrealis2018_grouped &lt;- dplyr::group_by(\n  realis2018,\n  project_name, planning_region, planning_area, property_type, type_of_sale\n)\n\nrealis2018_summarised &lt;- dplyr::summarise(\n  realis2018_grouped,\n  total_units_sold = sum(no_of_units, na.rm = TRUE),\n  total_area = sum(area_sqm, na.rm = TRUE),\n  median_unit_price_psm = median(unit_price_psm, na.rm = TRUE),\n  median_transacted_price = median(transacted_price, na.rm = TRUE),\n  .groups = \"drop\"\n)\n\nrealis2018_summarised %&gt;% slice_head(n = 10)\n\n# A tibble: 10 × 9\n   project_name       planning_region planning_area property_type   type_of_sale\n   &lt;chr&gt;              &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;           &lt;chr&gt;       \n 1 # 1 LOFT           Central Region  Geylang       Apartment       Resale      \n 2 # 1 SUITES         Central Region  Geylang       Apartment       Resale      \n 3 1 CANBERRA         North Region    Yishun        Executive Cond… Resale      \n 4 1 KING ALBERT PARK Central Region  Bukit Timah   Condominium     Resale      \n 5 10 EVELYN          Central Region  Novena        Apartment       New Sale    \n 6 10 SHELFORD        Central Region  Bukit Timah   Apartment       Resale      \n 7 11 AMBER ROAD      Central Region  Marine Parade Apartment       Resale      \n 8 111 EMERALD HILL   Central Region  Newton        Apartment       Resale      \n 9 120 GRANGE         Central Region  River Valley  Apartment       New Sale    \n10 16 @ AMBER         Central Region  Marine Parade Apartment       Resale      \n# ℹ 4 more variables: total_units_sold &lt;dbl&gt;, total_area &lt;dbl&gt;,\n#   median_unit_price_psm &lt;dbl&gt;, median_transacted_price &lt;dbl&gt;\n\n\n\n\n3.4 16.3.4 Grouped summaries (with the pipe)\nPersonally I find the pipe version easier to read because the steps flow top-to-bottom and I do not need to create intermediate objects unless I want to inspect them.\n\nrealis2018_summarised2 &lt;- realis2018 %&gt;%\n  group_by(project_name, planning_region, planning_area, property_type, type_of_sale) %&gt;%\n  summarise(\n    total_units_sold = sum(no_of_units, na.rm = TRUE),\n    total_area = sum(area_sqm, na.rm = TRUE),\n    median_unit_price_psm = median(unit_price_psm, na.rm = TRUE),\n    median_transacted_price = median(transacted_price, na.rm = TRUE),\n    .groups = \"drop\"\n  )\n\nidentical(realis2018_summarised, realis2018_summarised2)\n\n[1] TRUE"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#designing-treemap-with-treemap-package",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#designing-treemap-with-treemap-package",
    "title": "Hands-on Exercise 05e: Treemap Visualisation with R",
    "section": "4 16.4 Designing Treemap with treemap package",
    "text": "4 16.4 Designing Treemap with treemap package\nIn this section, I follow the lecture sequence to explore how index, vSize, vColor, type, palettes and layout parameters affect the treemap.\n\n4.1 16.4.1 Selecting records for treemap design\nTo stay consistent with the lecture example, I focus on Condominium and Resale records. (This also reduces clutter so the main patterns are easier to see.)\n\nrealis2018_selected &lt;- realis2018_summarised %&gt;%\n  filter(property_type == \"Condominium\", type_of_sale == \"Resale\") %&gt;%\n  filter(total_units_sold &gt; 0)\n\nrealis2018_selected %&gt;% slice_head(n = 10)\n\n# A tibble: 10 × 9\n   project_name         planning_region planning_area property_type type_of_sale\n   &lt;chr&gt;                &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;       \n 1 1 KING ALBERT PARK   Central Region  Bukit Timah   Condominium   Resale      \n 2 3 ORCHARD BY-THE-PA… Central Region  Orchard       Condominium   Resale      \n 3 368 THOMSON          Central Region  Novena        Condominium   Resale      \n 4 6 DERBYSHIRE         Central Region  Novena        Condominium   Resale      \n 5 8 @ MOUNT SOPHIA     Central Region  Rochor        Condominium   Resale      \n 6 8 NAPIER             Central Region  Tanglin       Condominium   Resale      \n 7 8 SAINT THOMAS       Central Region  River Valley  Condominium   Resale      \n 8 8@WOODLEIGH          Central Region  Toa Payoh     Condominium   Resale      \n 9 A TREASURE TROVE     North East Reg… Punggol       Condominium   Resale      \n10 AALTO                Central Region  Marine Parade Condominium   Resale      \n# ℹ 4 more variables: total_units_sold &lt;dbl&gt;, total_area &lt;dbl&gt;,\n#   median_unit_price_psm &lt;dbl&gt;, median_transacted_price &lt;dbl&gt;\n\n\n\n\n4.2 16.4.2 Using the basic arguments\nThis is the “starter” treemap: hierarchy = region → area → project; rectangle size = units sold; colour = median unit price.\n\ntreemap(\n  realis2018_selected,\n  index = c(\"planning_region\", \"planning_area\", \"project_name\"),\n  vSize = \"total_units_sold\",\n  vColor = \"median_unit_price_psm\",\n  title = \"Resale Condominium by Planning Region and Area, 2018\",\n  title.legend = \"Median Unit Price (S$ per sq. m)\"\n)\n\n\n\n\n\n\n\n\n\n\n4.3 16.4.3 Working with vColor and type\nIn the lecture, the warning is that if we do not specify type, the default may treat the colour mapping differently. Setting type = \"value\" makes the legend behave more intuitively for numeric colour values.\n\ntreemap(\n  realis2018_selected,\n  index = c(\"planning_region\", \"planning_area\", \"project_name\"),\n  vSize = \"total_units_sold\",\n  vColor = \"median_unit_price_psm\",\n  type = \"value\",\n  title = \"Resale Condominium by Planning Region and Area, 2018\",\n  palette = \"Greens\",\n  title.legend = \"Median Unit Price (S$ per sq. m)\"\n)\n\n\n\n\n\n\n\n\n\n\n4.4 16.4.4 Colours in treemap package\n\n4.4.1 Diverging palette (may look confusing when all values are positive)\n\ntreemap(\n  realis2018_selected,\n  index = c(\"planning_region\", \"planning_area\", \"project_name\"),\n  vSize = \"total_units_sold\",\n  vColor = \"median_unit_price_psm\",\n  type = \"value\",\n  palette = \"RdYlBu\",\n  title = \"Resale Condominium by Planning Region and Area, 2018\",\n  title.legend = \"Median Unit Price (S$ per sq. m)\"\n)\n\n\n\n\n\n\n\n\n\n\n4.4.2 Manual type\nManual type maps the value range linearly without binning. I use it to compare how the legend and colour spread differ.\n\ntreemap(\n  realis2018_selected,\n  index = c(\"planning_region\", \"planning_area\", \"project_name\"),\n  vSize = \"total_units_sold\",\n  vColor = \"median_unit_price_psm\",\n  type = \"manual\",\n  palette = \"Blues\",\n  title = \"Resale Condominium by Planning Region and Area, 2018\",\n  title.legend = \"Median Unit Price (S$ per sq. m)\"\n)\n\n\n\n\n\n\n\n\n\n\n\n4.5 16.4.7 Treemap layout (algorithm)\nThe lecture compares squarified and pivotSize. Here I explicitly set algorithm = \"squarified\".\n\ntreemap(\n  realis2018_selected,\n  index = c(\"planning_region\", \"planning_area\", \"project_name\"),\n  vSize = \"total_units_sold\",\n  vColor = \"median_unit_price_psm\",\n  type = \"manual\",\n  palette = \"Blues\",\n  algorithm = \"squarified\",\n  title = \"Resale Condominium by Planning Region and Area, 2018\",\n  title.legend = \"Median Unit Price (S$ per sq. m)\"\n)\n\n\n\n\n\n\n\n\n\n\n4.6 16.4.9 Using sortID (with pivotSize)\nWith pivotSize, sortID controls the order of rectangle placement. Following the lecture, I sort by median_transacted_price.\n\ntreemap(\n  realis2018_selected,\n  index = c(\"planning_region\", \"planning_area\", \"project_name\"),\n  vSize = \"total_units_sold\",\n  vColor = \"median_unit_price_psm\",\n  type = \"manual\",\n  palette = \"Blues\",\n  algorithm = \"pivotSize\",\n  sortID = \"median_transacted_price\",\n  title = \"Resale Condominium by Planning Region and Area, 2018\",\n  title.legend = \"Median Unit Price (S$ per sq. m)\"\n)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#designing-treemap-using-treemapify-package",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#designing-treemap-using-treemapify-package",
    "title": "Hands-on Exercise 05e: Treemap Visualisation with R",
    "section": "5 16.5 Designing Treemap using treemapify package",
    "text": "5 16.5 Designing Treemap using treemapify package\ntreemapify is convenient when I want treemaps that behave like normal ggplot layers, so I can style them using themes and scales.\n\n5.1 16.5.1 Designing a basic treemap\n\nggplot(data = realis2018_selected,\n       aes(area = total_units_sold,\n           fill = median_unit_price_psm)) +\n  geom_treemap() +\n  scale_fill_gradient(low = \"light blue\", high = \"blue\") +\n  labs(\n    title = \"Resale Condominium (Treemapify), 2018\",\n    fill = \"Median Unit Price ($ psm)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n5.2 16.5.2 Defining hierarchy\n\n5.2.1 Group by Planning Region\n\nggplot(data = realis2018_selected,\n       aes(area = total_units_sold,\n           fill = median_unit_price_psm,\n           subgroup = planning_region)) +\n  geom_treemap() +\n  scale_fill_gradient(low = \"light blue\", high = \"blue\") +\n  labs(\n    title = \"Treemapify with Hierarchy: Planning Region (2018)\",\n    fill = \"Median Unit Price ($ psm)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n5.2.2 Group by Planning Region + Planning Area\n\nggplot(data = realis2018_selected,\n       aes(area = total_units_sold,\n           fill = median_unit_price_psm,\n           subgroup = planning_region,\n           subgroup2 = planning_area)) +\n  geom_treemap() +\n  scale_fill_gradient(low = \"light blue\", high = \"blue\") +\n  labs(\n    title = \"Treemapify with Hierarchy: Region + Area (2018)\",\n    fill = \"Median Unit Price ($ psm)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n5.2.3 Adding boundary lines\nThis step makes the hierarchical blocks easier to read (especially when there are many small projects).\n\nggplot(data = realis2018_selected,\n       aes(area = total_units_sold,\n           fill = median_unit_price_psm,\n           subgroup = planning_region,\n           subgroup2 = planning_area)) +\n  geom_treemap() +\n  geom_treemap_subgroup2_border(colour = \"gray40\", size = 2) +\n  geom_treemap_subgroup_border(colour = \"gray20\") +\n  scale_fill_gradient(low = \"light blue\", high = \"blue\") +\n  labs(\n    title = \"Treemapify with Borders: Region + Area (2018)\",\n    fill = \"Median Unit Price ($ psm)\"\n  ) +\n  theme_minimal()"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#designing-interactive-treemap-using-d3treer",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05e.html#designing-interactive-treemap-using-d3treer",
    "title": "Hands-on Exercise 05e: Treemap Visualisation with R",
    "section": "6 16.6 Designing Interactive Treemap using d3treeR",
    "text": "6 16.6 Designing Interactive Treemap using d3treeR\n\n6.1 16.6.1 Installing d3treeR (optional)\nThe lecture installs d3treeR from GitHub. On Windows, this can be slow if it triggers compilation.\nIf you want the interactive plot, install once in Console:\n\ninstall.packages(\"remotes\", type=\"binary\")\nremotes::install_github(\"timelyportfolio/d3treeR\")\n\n\n\n6.2 16.6.2 Designing an interactive treemap\nThis chunk will render the interactive treemap only if d3treeR is installed. Otherwise it will show a short message (and the document will still render).\n\nif (requireNamespace(\"d3treeR\", quietly = TRUE)) {\n  library(d3treeR)\n\n  tm &lt;- treemap(\n    realis2018_selected,\n    index = c(\"planning_region\", \"planning_area\"),\n    vSize = \"total_units_sold\",\n    vColor = \"median_unit_price_psm\",\n    type = \"value\",\n    title = \"Private Residential Property Sold, 2018\",\n    title.legend = \"Median Unit Price (S$ per sq. m)\"\n  )\n\n  d3treeR::d3tree(tm, rootname = \"Singapore\")\n} else {\n  cat(\"d3treeR is not installed. Install it in Console to view the interactive treemap.\")\n}\n\nd3treeR is not installed. Install it in Console to view the interactive treemap."
  }
]